<html>
<body>
    <script src="https://js.puter.com/v2/"></script>
    <script>
        (async () => {
            // Generates 3 random subdomains
            let site_1 = "example-site-" + Math.random().toString(36).substring(5);
            let site_2 = "example-site-" + Math.random().toString(36).substring(5);
            let site_3 = "example-site-" + Math.random().toString(36).substring(5);

            // Get all subdomains
            let sites = await puter.hosting.list();

            // Log all sites, only their subdomains
            sites = sites.map(site => site.subdomain);
            document.write(JSON.stringify(sites));

            // Delete all sites
            await puter.hosting.delete(site_1);
            await puter.hosting.delete(site_2);
            await puter.hosting.delete(site_3);
        })();
    </script>
</body>
</html>